<?php

require_once("token.php");
include_once "descRecursivo.php";

Class Lexico {
   private $afd = array("q0"=> array(" "=> "q5", "(" => "q6", ")" => "q7", "{" => "q9", ">" => "q8",
    "}" => "q10", "<" => "q11", "<=" => "q23", ">=" => "q12","+" => "q13", "-" => "q14", "=" => "q15",
    "++" => "q16", "--" => "q17", "/" => "q18", "*" => "q19", "[" => "q20", "]" => "q21", "." => "q22",
    ";" => "q30",

    "0" => "q3","1" => "q3","2" => "q3","3" => "q3","4" => "q3","5" => "q3","6" => "q3","7" => "q3","8" => "q3","9" => "q3",
    "a" => "q4","b" => "boolean1","c" => "q4","d" => "q4","e" => "else1","f" => "for1","g" => "q4","h" => "q4",
    "i" => "q1","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "printf1",
    "q" => "q4","r" => "q4","s" => "scanf1","t" => "true1","u" => "q4","v" => "q4","w" => "while1","x" => "q4",
    "y" => "q4","z" => "q4"
    ),

    "q1"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q2","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "int1","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "q2"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "q3"=> array(
    "0" => "q3","1" => "q3","2" => "q3","3" => "q3","4" => "q3","5" => "q3","6" => "q3","7" => "q3","8" => "q3","9" => "q3",
    "." => "pf"),

    "q4"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "q5" => [],
    "q6" => [],
    "q7" => [],
    "q8" => ["=" => "q27"],
    "q9" => [],
    "q10" => [],
    "q11" => ["=" => "q26"],
    "q12" => [],
    "q13" => ["+" => "q24"],
    "q14" => ["-" => "q25"],
    "q15" => [],
    "q16" => [],
    "q17" => [],
    "q18" => [],
    "q19" => [],
    "q20" => [],
    "q21" => [],
    "q22" => [],
    "q23" => [],
    "q24" => [],
    "q25" => [],
    "q26" => [],
    "q27" => [],
    "q30" => [],

    // Estrutura for
    "for1" => ["a" => "false1","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "float1","m" => "q4","n" => "q4","o" => "for2","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "for2" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "for3","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "for3" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    //Estrutura while

    "while1" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "while2",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "while2" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "while3","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "while3" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "while4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "while4" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "while5","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "while5" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    //Estrutura else

    "else1" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "else2","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "else2" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "else3","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "else3" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "else4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "else4" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    //Estrutura scanf

    "scanf1" => ["a" => "q4","b" => "q4","c" => "scanf2","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "string1","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "scanf2" => ["a" => "scanf3","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "scanf3" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "scanf4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "scanf4" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "scanf5","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "scanf5" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    //Estrutura printf

    "printf1" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "printf2","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "printf2" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "printf3","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "printf3" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "printf4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "printf4" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "printf5","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "printf5" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "printf6","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    "printf6" => ["a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"],

    // estrutura int

    "int1"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "int2","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "int2"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "int2","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "int3","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "int3"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    //Estrutura float

    "float1"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "float2","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "float2"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "float3","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "float3"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "float4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "float4"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    //Estrutura boolean


    "boolean1"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "boolean2","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "boolean2"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "boolean3","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "boolean3"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "boolean4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "boolean4"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "boolean5","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "boolean5"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "boolean6","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "boolean6"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "boolean7","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "boolean7"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    //Estrutura string


    "string1"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "string2","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "string2"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "string3","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "string3"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "string4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "string4"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "string5","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "string5"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    //numero ponto flutuante

    "pf"=> array(
    "0" => "pf","1" => "pf","2" => "pf","3" => "pf","4" => "pf","5" => "pf","6" => "pf","7" => "pf","8" => "pf","9" => "pf"),

    // true
    "true1"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "true2","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "true2"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "true3","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "true3"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "true4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "true4"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),


    // false

    "false1"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "false2","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "false2"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "false3","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "false3"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "false4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    "false4"=> array(
    "0" => "q4","1" => "q4","2" => "q4","3" => "q4","4" => "q4","5" => "q4","6" => "q4","7" => "q4","8" => "q4","9" => "q4",
    "a" => "q4","b" => "q4","c" => "q4","d" => "q4","e" => "q4","f" => "q4","g" => "q4","h" => "q4",
    "i" => "q4","j" => "q4","k" => "q4","l" => "q4","m" => "q4","n" => "q4","o" => "q4","p" => "q4",
    "q" => "q4","r" => "q4","s" => "q4","t" => "q4","u" => "q4","v" => "q4","w" => "q4","x" => "q4",
    "y" => "q4","z" => "q4"),

    );


    private $finais = ["q1" => "ID",
    "q2" => "IF",
    "q3" => "CONST",
    "q4" => "ID",
    "q5" => "WS",
    "q6" => "AP",
    "q7" => "FP",
    "q8" => "MAIOR",
    "q9" => "INIBLOCO",
    "q10" => "FIMBLOCO",
    "q11" => "MENOR",
    "q27" => "MAIORIGUAL",
    "q13" => "SOMA",
    "q14" => "SUBTRAÇÃO",
    "q15" => "IGUAL",
    "q24" => "INCREMENTO",
    "q25" => "DECREMENTO",
    "q18" => "DIVISÃO",
    "q19" => "MULTIPLICAÇÃO",
    "q20" => "ABRECOLCHETES",
    "q21" => "FECHACOLCHETES",
    "q22" => "CONCATENAÇÃO",
    "q26" => "MENORIGUAL",
    "q30" => "PV",

    "for1" => "ID",
    "for2" => "ID",
    "for3" => "FOR",
    
    "while1" => "ID",
    "while2" => "ID",
    "while3" => "ID",
    "while4" => "ID",
    "while5" => "WHILE",

    "else1" => "ID",
    "else2" => "ID",
    "else3" => "ID",
    "else4" => "ELSE",

    "printf1" => "ID",
    "printf2" => "ID",
    "printf3" => "ID",
    "printf4" => "ID",
    "printf5" => "ID",
    "printf6" => "PRINTF",

    "scanf1" => "ID",
    "scanf2" => "ID",
    "scanf3" => "ID",
    "scanf4" => "ID",
    "scanf5" => "SCANF",

    "false1" => "ID",
    "false2" => "ID",
    "false3" => "ID",
    "false4" => "FALSE",

    "true1" => "ID",
    "true2" => "ID",
    "true3" => "ID",
    "true4" => "TRUE",
    "pf" => "PONTOFLUTUANTE",

    "string1" => "ID",
    "string2" => "ID",
    "string3" => "ID",
    "string4" => "ID",
    "string5" => "STRING",

    "boolean1" => "ID",
    "boolean2" => "ID",
    "boolean3" => "ID",
    "boolean4" => "ID",
    "boolean5" => "ID",
    "boolean6" => "ID",
    "boolean7" => "BOOLEAN",

    "float1" => "ID",
    "float2" => "ID",
    "float3" => "ID",
    "float4" => "FLOAT",

    "int1" => "ID",
    "int2" => "ID",
    "int3" => "INT",

    ];

   
   
    private $entrada;
   
    public function setEntrada($entrada){
        $this->entrada = $entrada;
    }
     private $lista_tokens = [];

   public function scan($entrada){
    
       $estado = "q0";
       $i = 0;
       $lexema = "";
       $pos = 0;
   
       while($i < strlen($entrada)){
   
       if(array_key_exists($entrada[$i], $this->afd[$estado])){
           $estado = $this->afd[$estado][$entrada[$i]];
           $lexema .= $entrada[$i];
           $pos++;
           $i++;
   
       } else if(array_key_exists($estado, $this->finais)){
               array_push($this->lista_tokens, new token($this->finais[$estado], $lexema, $pos));
               $estado = "q0";
               $lexema = "";
   
           }
   
           else{
               echo "Token inválido: ". $lexema.$entrada[$i];
               break;
           }
   
   
       }
   }

    public function getLista_tokens(){
        return $this->lista_tokens;
    }


    public function nextToken(){
        $tk = current($this->lista_tokens);
        next($this->lista_tokens);
        return $tk;
    }

    function __toString(){
        $str = "";
        foreach($this->lista_tokens as $tk)
            
            echo $tk."\n";
        return $str;
    }

}
?>